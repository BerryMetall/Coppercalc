<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kupferkabel Kalkulator</title>
<style>
body { font-family: Arial, sans-serif; background: #0f172a; color: #e5e7eb; margin: 0; padding: 20px; }
h1 { color: #fbbf24; }
table { border-collapse: collapse; width: 100%; margin-top: 20px; }
th, td { border: 1px solid #374151; padding: 8px; text-align: left; }
th { background: #111827; }
input { background: #1f2937; color: white; border: 1px solid #374151; border-radius: 4px; padding: 4px; width: 80px; }
.container { background: #111827; padding: 20px; border-radius: 10px; }
button { background: #2563eb; border: none; color: white; padding: 10px; border-radius: 6px; cursor: pointer; }
button:hover { background: #1d4ed8; }
</style>
</head>
<body>
<h1>Kupferkabel Kalkulator</h1>
<div class="container">
  <label>Einkaufspreis (€/kg): <input id="buy" value="2"></label>
  <label>Verkaufspreis (€/kg): <input id="sell" value="2.7"></label>
  <label>Granulatpreis (€/kg): <input id="cu" value="8.3"></label><br><br>
  <label>Strom (kW): <input id="kw" value="13"></label>
  <label>Strompreis (€/kWh): <input id="strom" value="0.35"></label>
  <label>Leistung (kg/h): <input id="leistung" value="150"></label>
  <label>Lohn (€/h): <input id="lohn" value="17"></label>
  <label>Abfall (%): <input id="abfall" value="0.5"></label>
  <br><br><button onclick="calc()">Neu berechnen</button>
</div>
<table id="tbl">
<thead><tr><th>Kabeltyp</th><th>Cu-%</th><th>Mehrwert (€/kg)</th></tr></thead>
<tbody></tbody>
</table>
<script>
const data=[
{n:'NYM 3x1,5',cu:31.9},{n:'NYM 5x1,5',cu:37.9},{n:'NYM 3x2,5',cu:37.9},{n:'NYM 5x2,5',cu:44.4},
{n:'NYY 3x1,5',cu:22.6},{n:'NYY 5x1,5',cu:26.7},{n:'NYY 3x2,5',cu:30.0},{n:'NYY 5x2,5',cu:34.3}
];
function toNum(v){return parseFloat(String(v).replace(',','.'))||0}
function calc(){
  const buy=toNum(buyEl.value),sell=toNum(sellEl.value),cu=toNum(cuEl.value);
  const kw=toNum(kwEl.value),strom=toNum(stromEl.value),leistung=toNum(leistungEl.value),lohn=toNum(lohnEl.value),abfall=toNum(abfallEl.value)/100;
  const stromKosten=(kw*strom)/leistung;const lohnKosten=lohn/leistung;
  const handelGewinn=sell-buy;
  const t=document.querySelector('#tbl tbody');t.innerHTML='';
  data.forEach(d=>{
    const cuVal=d.cu/100*cu*(1-abfall);const netto=cuVal-buy-stromKosten-lohnKosten;
    const mehrwert=netto-handelGewinn;
    const tr=document.createElement('tr');tr.innerHTML=`<td>${d.n}</td><td>${d.cu.toFixed(1)}</td><td>${mehrwert.toFixed(2)}</td>`;t.appendChild(tr);
  });
}
const buyEl=document.getElementById('buy'),sellEl=document.getElementById('sell'),cuEl=document.getElementById('cu'),kwEl=document.getElementById('kw'),
stromEl=document.getElementById('strom'),leistungEl=document.getElementById('leistung'),lohnEl=document.getElementById('lohn'),abfallEl=document.getElementById('abfall');
calc();
</script>
</body>
</html>